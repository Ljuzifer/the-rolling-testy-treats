{"mappings":"iiBAAAA,EAAA,S,iCCuFA,IA4BUC,EA5BVC,EAAAF,EAAA,SAAMG,EAAeC,aAAaC,QAAQ,mBAGU,GAA/CF,GAAoD,IAApCG,KAAKC,MAAMJ,GAAcK,OAKvC,CAEwCC,SAApCC,eAAe,eAAeC,UAAUC,OAAO,QACxDH,SAASC,eAAe,mBAAmBG,MAAMC,QAAU,OAGzC,IAAZC,EAAkBT,KAAKC,MAAMJ,GAG7Ba,EACJC,EAAAf,EAAA,CAAG,IAAIgB,IAAIH,EAAgBI,KAAI,SAAAC,G,OAAUA,EAAOC,Q,MAI5CC,EAA0Bb,SAASC,eACvC,6BAKMT,EAAce,EACjBG,KACC,SAAAE,G,MAAY,mEACyDE,OAAbF,EAAS,MAAaE,OAATF,EAAS,oB,IAG/EG,KAAK,IAERF,EAAwBG,UAAYxB,EAOmB,IAAnDyB,EAAajB,SAASC,eAAe,eAGmBiB,IAG1B,IAA9BC,EAA4B,SAAAC,GAIUF,EAHjBE,EAAMC,OAAOC,QAAQV,S,EAU1CW,EAAwBvB,SAASwB,uBACrC,0BAEGC,GAAY,EAAZC,GAAY,EAAZC,OAAYC,E,IAAjB,QAAKC,EAAAC,EAAgBP,EAAqBQ,OAAAC,cAArCP,GAAAI,EAAAC,EAAYG,QAAAC,MAAZT,GAAY,GAAZI,EAAYM,MACRC,iBAAiB,QAASjB,E,WAD9BO,GAAY,EAAZC,EAAYU,C,aAAZZ,GAAY,MAAZK,EAAYQ,QAAZR,EAAYQ,Q,YAAZZ,E,MAAAC,C,EAK+C,SAA3CT,EAAiBqB,GACxB,IAIMC,GAJkBD,EACpBjC,EAAgBmC,QAAO,SAAA9B,G,OAAUA,EAAOC,WAAa2B,C,IACrDjC,GAEgCI,KAAI,SAAAC,GACtC,MAAO,4FAE2DG,OAAxBH,EAAO+B,QAAQ,WACE5B,OADOH,EAAOgC,MAAM,yEAEzC7B,OADqBH,EAAOiC,IAAI,+EAEjC9B,OADCH,EAAOgC,MAAM,oDAGX7B,OAFHH,EAAOkC,YAAY,yEAEF/B,OAAdH,EAAOmC,OAAO,yI,IAQxD7B,EAAWD,UAAYwB,EAAYzB,KAAK,G,OApFlBf,SAAfC,eAAe,eAAeC,UAAU6C,IAAI,QAEE/C,SAA9CC,eAAe,mBAAmBG,MAAMC,QAAU,M","sources":["src/favorites.js","src/js/favorites-page.js"],"sourcesContent":["import './js/dark-theme';\nimport './js/header-mobile-menu';\nimport './js/scroll-to-up';\nimport './js/modal-order-now';\nimport './js/favorites-page';","// import axios from 'axios';\n\n// const BASE_URL = 'https://tasty-treats-backend.p.goit.global/api/';\n\n// async function fetchDataFromBackend() {\n//   try {\n//     // Змінюємо значення \"limit\" на 9 у параметрі запиту\n//     const response = await axios.get(`${BASE_URL}recipes?limit=9`);\n\n//     // Отримуємо масив рецептів з ключа \"results\"\n//     const dataArray = response.data.results;\n\n//     // Використовуємо метод map для створення нового масиву з розміткою\n//     const recipesHTMLArray = dataArray.map(\n//       recipe => `\n//       <li>\n//         <img src=\"${recipe.preview}\" alt=\"${recipe.title}\" />\n//         <button class=\"icon-button\" data-recipe-id=\"${recipe._id}\" type=\"button\">іконка</button>\n//         <h3>${recipe.title}</h3>\n//         <p>${recipe.description}</p>\n//         <div>\n//           <p>${recipe.rating}</p>\n//           <button type=\"button\">рецепт</button>\n//         </div>\n//       </li>\n//     `\n//     );\n\n//     // Отримуємо елемент галереї з HTML\n//     const galleryElement = document.getElementById('recipe-list');\n\n//     // Приєднуємо розмітку до галереї\n//     galleryElement.innerHTML = recipesHTMLArray.join('');\n\n//     // Додаємо обробник подій для кожної кнопки \"іконка\"\n//     const iconButtons = document.querySelectorAll('.icon-button');\n//     iconButtons.forEach(button => {\n//       button.addEventListener('click', () => {\n//         // Отримуємо id рецепту з атрибута data-recipe-id кнопки\n//         const recipeId = button.dataset.recipeId;\n\n//         // Отримуємо поточний об'єкт даних для обраної картки\n//         const selectedRecipe = dataArray.find(\n//           recipe => recipe._id === recipeId\n//         );\n\n//         // Отримуємо масив обраних карток з localStorage (якщо він існує)\n//         let selectedRecipesArray =\n//           JSON.parse(localStorage.getItem('selectedRecipes')) || [];\n\n//         // Перевіряємо, чи вже існує обраний рецепт з таким id\n//         const existingIndex = selectedRecipesArray.findIndex(\n//           recipe => recipe._id === recipeId\n//         );\n\n//         if (existingIndex !== -1) {\n//           // Якщо рецепт знайдено в localStorage, видаляємо його з масиву обраних карток\n//           selectedRecipesArray.splice(existingIndex, 1);\n//           console.log('Картка успішно видалена з localStorage');\n//         } else {\n//           // Якщо рецепт не знайдено в localStorage, додаємо його до масиву обраних карток\n//           selectedRecipesArray.push(selectedRecipe);\n//           console.log('Картка успішно збережена в localStorage');\n//         }\n\n//         try {\n//           // Зберігаємо оновлений масив обраних карток у localStorage\n//           localStorage.setItem(\n//             'selectedRecipes',\n//             JSON.stringify(selectedRecipesArray)\n//           );\n//         } catch (error) {\n//           // Обробка помилок при збереженні у localStorage\n//           console.error('Помилка збереження у localStorage:', error.message);\n//         }\n//       });\n//     });\n//   } catch (error) {\n//     // Обробка помилок\n//     console.error('Помилка отримання даних:', error.message);\n//   }\n// }\n\n// // Викликаємо функцію для отримання даних та відмалювання галереї\n// fetchDataFromBackend();\n\n// Отримання збережених даних з локального сховища\nconst savedRecipes = localStorage.getItem('selectedRecipes');\n\n// Перевірка, чи є дані в local storage або чи порожній масив улюблених рецептів\nif (!savedRecipes || JSON.parse(savedRecipes).length === 0) {\n  // Приховуємо список рецептів\n  document.getElementById('recipe-list').classList.add('hide');\n  // Показуємо повідомлення про порожній список улюблених рецептів\n  document.getElementById('empty-favorites').style.display = 'flex';\n} else {\n  // Якщо є улюблені рецепти, то показуємо список рецептів\n  document.getElementById('recipe-list').classList.remove('hide');\n  document.getElementById('empty-favorites').style.display = 'none';\n\n  // Парсимо рядок JSON у JavaScript об'єкт\n  const favoriteRecipes = JSON.parse(savedRecipes);\n\n  // Отримання унікальних категорій з об'єктів рецептів\n  const uniqueCategories = [\n    ...new Set(favoriteRecipes.map(recipe => recipe.category)),\n  ];\n\n  // Отримання контейнера для блоку з кнопками фільтрів\n  const categoryFilterContainer = document.getElementById(\n    'category-filter-container'\n  );\n\n  // Функція для відмалювання кнопок фільтрів\n  const renderCategoryFilters = () => {\n    const filtersHTML = uniqueCategories\n      .map(\n        category => `\n        <button class=\"category-filter-button\" data-category=\"${category}\">${category}</button>\n      `\n      )\n      .join('');\n\n    categoryFilterContainer.innerHTML = filtersHTML;\n  };\n\n  // Виклик функції для відмалювання початкових кнопок фільтрів\n  renderCategoryFilters();\n\n  // Отримання елемента списку, куди будемо додавати картки з рецептами\n  const recipeList = document.getElementById('recipe-list');\n\n  // Виклик функції для оновлення списку рецептів (при завантаженні сторінки)\n  updateRecipeList();\n\n  // Обробник події при кліку на кнопку фільтру\n  const handleCategoryFilterClick = event => {\n    const selectedCategory = event.target.dataset.category;\n\n    // Оновлюємо список рецептів з врахуванням фільтра\n    updateRecipeList(selectedCategory);\n\n    // Закоментований рядок, який перешкоджає стандартній обробці подій посилань та кнопок\n    // event.preventDefault();\n  };\n\n  // Додаємо обробник подій до кожної кнопки фільтру\n  const categoryFilterButtons = document.getElementsByClassName(\n    'category-filter-button'\n  );\n  for (const button of categoryFilterButtons) {\n    button.addEventListener('click', handleCategoryFilterClick);\n  }\n\n  // Функція для оновлення списку рецептів з урахуванням фільтру\n  function updateRecipeList(selectedCategory) {\n    const filteredRecipes = selectedCategory\n      ? favoriteRecipes.filter(recipe => recipe.category === selectedCategory)\n      : favoriteRecipes;\n\n    const recipeCards = filteredRecipes.map(recipe => {\n      return `\n          <li class=\"recipe-list-item\">\n            <img class=\"recipe-card-img\" src=\"${recipe.preview}\" alt=\"${recipe.title}\" />\n            <button class=\"on-favorite-button\" data-recipe-id=\"${recipe._id}\" type=\"button\">іконка</button>\n            <h3 class=\"recipe-card-title\">${recipe.title}</h3>\n            <p class=\"recipe-card-descr\">${recipe.description}</p>\n            <div>\n              <p class=\"recipe-card-rating\">${recipe.rating}</p>\n              <button class=\"see-recipe-button\" type=\"button\">See recipe</button>\n            </div>\n          </li>\n        `;\n    });\n\n    // Додавання згенерованих карток до списку\n    recipeList.innerHTML = recipeCards.join('');\n  }\n}\n"],"names":["parcelRequire","filtersHTML","$8nrFW","$cbbc55a53e1cf5f9$var$savedRecipes","localStorage","getItem","JSON","parse","length","document","getElementById","classList","remove","style","display","$cbbc55a53e1cf5f9$var$favoriteRecipes","$cbbc55a53e1cf5f9$var$uniqueCategories","$parcel$interopDefault","Set","map","recipe","category","$cbbc55a53e1cf5f9$var$categoryFilterContainer","concat","join","innerHTML","$cbbc55a53e1cf5f9$var$recipeList","$cbbc55a53e1cf5f9$var$updateRecipeList","$cbbc55a53e1cf5f9$var$handleCategoryFilterClick","event","target","dataset","$cbbc55a53e1cf5f9$var$categoryFilterButtons","getElementsByClassName","$cbbc55a53e1cf5f9$var$_iteratorNormalCompletion","$cbbc55a53e1cf5f9$var$_didIteratorError","$cbbc55a53e1cf5f9$var$_iteratorError","undefined","$cbbc55a53e1cf5f9$var$_step","$cbbc55a53e1cf5f9$var$_iterator","Symbol","iterator","next","done","value","addEventListener","err","return","selectedCategory","recipeCards","filter","preview","title","_id","description","rating","add"],"version":3,"file":"favorites.9347445b.js.map"}