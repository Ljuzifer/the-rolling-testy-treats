{"mappings":"oeAAAA,EAAA,S,iCCuF0C,MAApCC,EAAeC,aAAaC,QAAQ,mBAGU,GAA/CF,GAAoD,IAApCG,KAAKC,MAAMJ,GAAcK,OAKvC,CAEwCC,SAApCC,eAAe,eAAeC,UAAUC,OAAO,QACxDH,SAASC,eAAe,mBAAmBG,MAAMC,QAAU,OAGzC,MAAZC,EAAkBT,KAAKC,MAAMJ,GAG7Ba,EAAmB,IACpB,IAAIC,IAAIF,EAAgBG,KAAIC,GAAUA,EAAOC,aAI5CC,EAA0BZ,SAASC,eACvC,6BAI4B,MAC5B,MAAMY,EAAcN,EACjBE,KACCE,GAAY,mEAC4CA,MAAaA,uBAGtEG,KAAK,IAERF,EAAwBG,UAAYF,CAAW,EAIGG,GAGK,MAAnDC,EAAajB,SAASC,eAAe,eAGmBiB,IAG1B,MAA9BC,EAA4BC,IAIUF,EAHjBE,EAAMC,OAAOC,QAAQX,SAGZ,EAO9BY,EAAwBvB,SAASwB,uBACrC,0BAEF,IAAK,MAAMC,KAAUF,EACnBE,EAAOC,iBAAiB,QAASP,GAIiB,SAA3CD,EAAiBS,GACxB,MAIMC,GAJkBD,EACpBrB,EAAgBuB,QAAOnB,GAAUA,EAAOC,WAAagB,IACrDrB,GAEgCG,KAAIC,GAC/B,4FAEmCA,EAAOoB,iBAAiBpB,EAAOqB,6EACdrB,EAAOsB,iFAC5BtB,EAAOqB,wDACRrB,EAAOuB,mFAEJvB,EAAOwB,iJAQjDjB,EAAWF,UAAYa,EAAYd,KAAK,G,OApFlBd,SAAfC,eAAe,eAAeC,UAAUiC,IAAI,QAEEnC,SAA9CC,eAAe,mBAAmBG,MAAMC,QAAU","sources":["src/favorites.js","src/js/favorites-page.js"],"sourcesContent":["import './js/dark-theme';\nimport './js/header-mobile-menu';\nimport './js/scroll-to-up';\nimport './js/modal-order-now';\nimport './js/favorites-page';","// import axios from 'axios';\n\n// const BASE_URL = 'https://tasty-treats-backend.p.goit.global/api/';\n\n// async function fetchDataFromBackend() {\n//   try {\n//     // Змінюємо значення \"limit\" на 9 у параметрі запиту\n//     const response = await axios.get(`${BASE_URL}recipes?limit=9`);\n\n//     // Отримуємо масив рецептів з ключа \"results\"\n//     const dataArray = response.data.results;\n\n//     // Використовуємо метод map для створення нового масиву з розміткою\n//     const recipesHTMLArray = dataArray.map(\n//       recipe => `\n//       <li>\n//         <img src=\"${recipe.preview}\" alt=\"${recipe.title}\" />\n//         <button class=\"icon-button\" data-recipe-id=\"${recipe._id}\" type=\"button\">іконка</button>\n//         <h3>${recipe.title}</h3>\n//         <p>${recipe.description}</p>\n//         <div>\n//           <p>${recipe.rating}</p>\n//           <button type=\"button\">рецепт</button>\n//         </div>\n//       </li>\n//     `\n//     );\n\n//     // Отримуємо елемент галереї з HTML\n//     const galleryElement = document.getElementById('recipe-list');\n\n//     // Приєднуємо розмітку до галереї\n//     galleryElement.innerHTML = recipesHTMLArray.join('');\n\n//     // Додаємо обробник подій для кожної кнопки \"іконка\"\n//     const iconButtons = document.querySelectorAll('.icon-button');\n//     iconButtons.forEach(button => {\n//       button.addEventListener('click', () => {\n//         // Отримуємо id рецепту з атрибута data-recipe-id кнопки\n//         const recipeId = button.dataset.recipeId;\n\n//         // Отримуємо поточний об'єкт даних для обраної картки\n//         const selectedRecipe = dataArray.find(\n//           recipe => recipe._id === recipeId\n//         );\n\n//         // Отримуємо масив обраних карток з localStorage (якщо він існує)\n//         let selectedRecipesArray =\n//           JSON.parse(localStorage.getItem('selectedRecipes')) || [];\n\n//         // Перевіряємо, чи вже існує обраний рецепт з таким id\n//         const existingIndex = selectedRecipesArray.findIndex(\n//           recipe => recipe._id === recipeId\n//         );\n\n//         if (existingIndex !== -1) {\n//           // Якщо рецепт знайдено в localStorage, видаляємо його з масиву обраних карток\n//           selectedRecipesArray.splice(existingIndex, 1);\n//           console.log('Картка успішно видалена з localStorage');\n//         } else {\n//           // Якщо рецепт не знайдено в localStorage, додаємо його до масиву обраних карток\n//           selectedRecipesArray.push(selectedRecipe);\n//           console.log('Картка успішно збережена в localStorage');\n//         }\n\n//         try {\n//           // Зберігаємо оновлений масив обраних карток у localStorage\n//           localStorage.setItem(\n//             'selectedRecipes',\n//             JSON.stringify(selectedRecipesArray)\n//           );\n//         } catch (error) {\n//           // Обробка помилок при збереженні у localStorage\n//           console.error('Помилка збереження у localStorage:', error.message);\n//         }\n//       });\n//     });\n//   } catch (error) {\n//     // Обробка помилок\n//     console.error('Помилка отримання даних:', error.message);\n//   }\n// }\n\n// // Викликаємо функцію для отримання даних та відмалювання галереї\n// fetchDataFromBackend();\n\n// Отримання збережених даних з локального сховища\nconst savedRecipes = localStorage.getItem('selectedRecipes');\n\n// Перевірка, чи є дані в local storage або чи порожній масив улюблених рецептів\nif (!savedRecipes || JSON.parse(savedRecipes).length === 0) {\n  // Приховуємо список рецептів\n  document.getElementById('recipe-list').classList.add('hide');\n  // Показуємо повідомлення про порожній список улюблених рецептів\n  document.getElementById('empty-favorites').style.display = 'flex';\n} else {\n  // Якщо є улюблені рецепти, то показуємо список рецептів\n  document.getElementById('recipe-list').classList.remove('hide');\n  document.getElementById('empty-favorites').style.display = 'none';\n\n  // Парсимо рядок JSON у JavaScript об'єкт\n  const favoriteRecipes = JSON.parse(savedRecipes);\n\n  // Отримання унікальних категорій з об'єктів рецептів\n  const uniqueCategories = [\n    ...new Set(favoriteRecipes.map(recipe => recipe.category)),\n  ];\n\n  // Отримання контейнера для блоку з кнопками фільтрів\n  const categoryFilterContainer = document.getElementById(\n    'category-filter-container'\n  );\n\n  // Функція для відмалювання кнопок фільтрів\n  const renderCategoryFilters = () => {\n    const filtersHTML = uniqueCategories\n      .map(\n        category => `\n        <button class=\"category-filter-button\" data-category=\"${category}\">${category}</button>\n      `\n      )\n      .join('');\n\n    categoryFilterContainer.innerHTML = filtersHTML;\n  };\n\n  // Виклик функції для відмалювання початкових кнопок фільтрів\n  renderCategoryFilters();\n\n  // Отримання елемента списку, куди будемо додавати картки з рецептами\n  const recipeList = document.getElementById('recipe-list');\n\n  // Виклик функції для оновлення списку рецептів (при завантаженні сторінки)\n  updateRecipeList();\n\n  // Обробник події при кліку на кнопку фільтру\n  const handleCategoryFilterClick = event => {\n    const selectedCategory = event.target.dataset.category;\n\n    // Оновлюємо список рецептів з врахуванням фільтра\n    updateRecipeList(selectedCategory);\n\n    // Закоментований рядок, який перешкоджає стандартній обробці подій посилань та кнопок\n    // event.preventDefault();\n  };\n\n  // Додаємо обробник подій до кожної кнопки фільтру\n  const categoryFilterButtons = document.getElementsByClassName(\n    'category-filter-button'\n  );\n  for (const button of categoryFilterButtons) {\n    button.addEventListener('click', handleCategoryFilterClick);\n  }\n\n  // Функція для оновлення списку рецептів з урахуванням фільтру\n  function updateRecipeList(selectedCategory) {\n    const filteredRecipes = selectedCategory\n      ? favoriteRecipes.filter(recipe => recipe.category === selectedCategory)\n      : favoriteRecipes;\n\n    const recipeCards = filteredRecipes.map(recipe => {\n      return `\n          <li class=\"recipe-list-item\">\n            <img class=\"recipe-card-img\" src=\"${recipe.preview}\" alt=\"${recipe.title}\" />\n            <button class=\"on-favorite-button\" data-recipe-id=\"${recipe._id}\" type=\"button\">іконка</button>\n            <h3 class=\"recipe-card-title\">${recipe.title}</h3>\n            <p class=\"recipe-card-descr\">${recipe.description}</p>\n            <div>\n              <p class=\"recipe-card-rating\">${recipe.rating}</p>\n              <button class=\"see-recipe-button\" type=\"button\">See recipe</button>\n            </div>\n          </li>\n        `;\n    });\n\n    // Додавання згенерованих карток до списку\n    recipeList.innerHTML = recipeCards.join('');\n  }\n}\n"],"names":["parcelRequire","$23d3b2bd9e6efae1$var$savedRecipes","localStorage","getItem","JSON","parse","length","document","getElementById","classList","remove","style","display","favoriteRecipes","uniqueCategories","Set","map","recipe","category","categoryFilterContainer","filtersHTML","join","innerHTML","renderCategoryFilters","recipeList","$23d3b2bd9e6efae1$var$updateRecipeList","handleCategoryFilterClick","event","target","dataset","categoryFilterButtons","getElementsByClassName","button","addEventListener","selectedCategory","recipeCards","filter","preview","title","_id","description","rating","add"],"version":3,"file":"favorites.120b9728.js.map"}